/* Arquivo style.css para o Sistema de Almoxarifado
  Este arquivo foi adaptado para complementar o framework Tailwind CSS
  e utilizar as variáveis HSL do design Shadcn (definidas em index.html).
*/

/* Fonte Padrão (Mantida) */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

body {
    font-family: 'Inter', sans-serif;
    /* Cores de fundo e texto agora vêm do Tailwind (bg-background, text-foreground) */
}

/* Header/Sub-header: as cores de fundo e texto vieram do Tailwind/index.html */
.logo-img {
    filter: drop-shadow(0 0 2px rgba(0,0,0,0.1));
    background-color: transparent !important;
}

@media (max-width: 768px) {
    .logo-img {
        height: 55px;
        margin-right: 0;
        margin-bottom: 0.5rem;
    }
    .main-title {
        font-size: 1.25rem;
    }
    .sub-title {
        font-size: 0.75rem;
    }
    .title-container {
        text-align: center;
    }
     .header-banner .container > div:first-child { 
        flex-direction: column;
        margin-bottom: 0.5rem;
    }
}

/* Navegação Principal (Classes reescritas para usar Tailwind/HSL) */
.main-nav-container {
    display: flex;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

/* NOVO: Estilo para os botões de navegação, replicando o estilo do Header.tsx */
.nav-btn-new {
    /* Base style for tabs */
    @apply px-5 py-3 font-medium whitespace-nowrap transition-all border-b-2 border-transparent;
}

.nav-btn-new:hover {
    /* Hover state (usando cores do design system) */
    @apply text-foreground bg-accent/10 border-accent/50;
}

.nav-btn-new.active {
    /* Active state (usando cores do design system) */
    @apply text-primary border-primary font-semibold bg-primary/5;
}

/* Nav Sub-views (MANTIDO o estilo original, mas adaptado para as novas cores) */
.sub-nav-btn {
    padding: 0.5rem 1rem;
    font-size: 0.875rem; /* text-sm */
    font-weight: 500;
    @apply text-muted-foreground bg-muted border-border;
    border-radius: 0.375rem;
    border: 1px solid;
    transition: all 0.2s ease-in-out;
}
.sub-nav-btn:hover {
    @apply bg-muted-foreground/10 text-foreground;
}
.sub-nav-btn.active {
    @apply bg-primary text-primary-foreground border-primary font-semibold;
}


/* General Card Styles (ajustado para usar variáveis HSL) */
.card {
    /* Mantém o card como base, mas as cores e sombras usam as variáveis globais */
    @apply bg-card p-6 rounded-lg border border-border shadow-sm;
    transition: all 0.2s ease-in-out;
}
.card:hover {
    @apply shadow-md;
}
.card-value {
    @apply text-4xl font-bold mb-1;
}
.card-label {
    @apply text-sm text-muted-foreground;
}
.clickable-card {
    cursor: pointer;
}
.clickable-card:hover {
    transform: translateY(-3px);
    /* Usa a sombra definida no index.html */
    box-shadow: 0 4px 10px hsl(var(--foreground) / 0.1), 0 2px 4px hsl(var(--foreground) / 0.08);
}


/* Forms (Apenas utilitários genéricos que não foram substituídos) */
.form-label {
    @apply block text-sm font-medium text-foreground mb-1;
}

.form-input, .form-select, .form-textarea {
    @apply block w-full p-2 text-base text-foreground bg-background border border-input rounded-md shadow-sm;
    box-shadow: inset 0 1px 2px hsl(var(--foreground) / 0.05);
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}
.form-input:focus, .form-select:focus, .form-textarea:focus {
    @apply border-primary outline-0 ring-2 ring-primary/50;
    box-shadow: 0 0 0 3px hsl(var(--primary) / 0.25);
}
.form-input-sm {
    @apply p-1.5 text-sm;
}
.form-select {
    /* Icone de seta customizado */
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='hsl(var(--muted-foreground))' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right 0.5rem center;
    background-repeat: no-repeat;
    background-size: 1.5em 1.5em;
    padding-right: 2.5rem;
}

/* Botões: A maioria das classes (btn-primary, btn-secondary, etc.)
   foi remapeada para classes Tailwind (btn btn-default, btn-outline, etc.) 
   no app.js para usar o design Shadcn. */
.btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors border border-transparent;
    padding: 0.625rem 1.25rem;
    gap: 0.5rem;
}
.btn-sm {
    @apply h-9 px-3;
}
.btn-lg {
    @apply h-11 px-8;
}

/* Alertas: Usando cores Shadcn/HSL */
.alert {
    @apply p-4 rounded-lg text-sm border hidden; 
}
.alert-success {
    @apply bg-secondary/10 text-secondary border-secondary/50;
}
.alert-error {
    @apply bg-destructive/10 text-destructive border-destructive/50;
}
.alert-info {
    @apply bg-primary/10 text-primary border-primary/50;
}
.alert-warning {
    @apply bg-accent/10 text-accent-foreground border-accent/50;
}

/* Table Styles (Adaptado para Tailwind/HSL) */
.table {
    @apply border-collapse w-full mt-4 border border-border rounded-lg overflow-hidden;
}

.table thead th {
    @apply bg-muted p-3 text-left font-semibold text-muted-foreground text-xs uppercase tracking-wider border-b-2 border-border;
}

.table tbody tr {
    @apply border-b border-muted;
}
.table tbody tr:last-child {
    border-bottom: none;
}
.table tbody tr:hover {
    @apply bg-muted/50;
}
.table tbody td {
    @apply p-3 text-foreground align-middle;
}
.table .obs-row td {
    @apply pt-0 pb-2 text-xs text-muted-foreground italic;
}
.table .separador-row td {
    @apply py-1.5 px-3 text-xs text-muted-foreground;
}

/* Badges (usados nas tabelas de status) - Mapeados para Tailwind colors */
.badge {
    @apply inline-block px-2 py-0.5 text-xs font-semibold rounded-full whitespace-nowrap;
}
.badge-purple { @apply bg-primary/10 text-primary; } 
.badge-yellow { @apply bg-accent/10 text-accent-foreground; }
.badge-green { @apply bg-secondary/10 text-secondary; }
.badge-blue { @apply bg-primary/10 text-primary; }
.badge-gray { @apply bg-muted text-muted-foreground; }


/* Loading Spinner (Cores adaptadas para o tema) */
.loading-spinner {
    @apply border-4 border-input border-t-primary rounded-full w-8 h-8;
    animation: spin 0.8s linear infinite;
    margin: 1rem auto;
}

.loading-spinner-small {
    @apply border-2 border-input border-t-primary rounded-full w-5 h-5;
    animation: spin 0.8s linear infinite;
}
button .loading-spinner-small {
    margin: 0;
}


/* Dashboard Materiais Prontos (Estilos Shadcn-like) */
.materiais-prontos-col {
    @apply bg-muted/50 border border-border rounded-md p-4 h-full;
}
.materiais-prontos-col h4 {
    @apply text-lg font-bold text-primary border-b-2 border-primary/50 pb-2 mb-3 text-center;
}
.materiais-prontos-col ul {
    list-style: none;
    padding: 0;
}
.materiais-prontos-col li {
    @apply bg-card border border-input rounded-md shadow-sm p-3;
    border-left: 4px solid;
}
.materiais-prontos-col li strong {
    @apply font-semibold text-foreground block mb-0.5;
}
.materiais-prontos-col li span {
    @apply text-sm text-muted-foreground;
}
.materiais-prontos-col li.item-requisitado {
    border-left-color: hsl(var(--primary)); /* Azul */
}
.materiais-prontos-col li:not(.item-retirada):not(.item-requisitado) {
    border-left-color: hsl(var(--accent)); /* Amarelo (Separando) */
}
.materiais-prontos-col li.item-retirada {
    border-left-color: hsl(var(--secondary)); /* Verde (Pronto) */
}

.status-indicator {
    @apply inline-block text-xs font-medium px-1.5 py-0.5 rounded-sm mt-1;
}
.status-indicator.separando {
    @apply bg-accent/20 text-accent-foreground;
}
.status-indicator.pronto {
    @apply bg-secondary/20 text-secondary-foreground;
}

/* Dashboard Nav Buttons (Adaptado para Tailwind) */
.dashboard-nav-btn {
    @apply p-2 text-sm font-medium text-muted-foreground bg-muted border border-border rounded-md transition-colors;
}
.dashboard-nav-btn:hover {
    @apply bg-muted-foreground/10 text-foreground;
}
.dashboard-nav-btn.active {
    @apply bg-primary text-primary-foreground border-primary font-semibold;
}


/* Previsão inteligente (Cores adaptadas para o tema) */
.previsao-option-card {
    @apply bg-muted/50 border-2 border-border rounded-md p-6 cursor-pointer transition-all;
}
.previsao-option-card:hover {
    @apply bg-card border-primary/50 shadow-md;
    transform: translateY(-2px);
}
.previsao-option-card.selected {
    @apply bg-primary/5 border-primary shadow-lg;
    box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2);
}
.previsao-option-card i[data-lucide] {
    @apply w-6 h-6;
}

.previsao-card {
    @apply bg-primary text-primary-foreground rounded-lg p-6;
}
.previsao-alerta {
    @apply bg-destructive/10 border border-destructive/50 rounded-lg p-4;
}

/* Modal Styles: Cores e botões adaptados para Shadcn (btn-destructive, btn-outline) */
.modal {
    display: none; 
    position: fixed; 
    z-index: 1000; 
    left: 0;
    top: 0;
    width: 100%; 
    height: 100%; 
    overflow: auto; 
    background-color: rgba(0,0,0,0.5); 
    @apply flex items-center justify-center;
}
.modal-content {
    @apply bg-card border border-border rounded-lg shadow-lg relative w-[90%] max-w-lg p-0 overflow-hidden;
}

.modal-header {
    @apply flex justify-between items-center p-4 border-b border-border;
}

.modal-title {
    @apply text-xl font-semibold text-foreground;
}
.modal-title.text-destructive { 
    @apply text-destructive; 
}

.modal-close {
    @apply text-muted-foreground/50 text-2xl font-bold cursor-pointer bg-transparent border-none p-0 leading-none;
}
.modal-close:hover,
.modal-close:focus {
    @apply text-foreground;
}

.modal-body {
    @apply p-6 text-muted-foreground leading-relaxed;
}

.modal-footer {
    @apply flex justify-end gap-3 p-4 border-t border-border bg-muted/50;
}

/* Edição In-line de Unidade */
.edit-input {
    @apply border border-primary/50 rounded-md p-1 text-sm focus:ring-1 focus:ring-primary;
}

/* fade-in animation for content (mantida) */
.fade-in {
    animation: fadeIn 0.4s ease-out;
}
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
